{"version":3,"sources":["source/js/components/programs.js","source/js/storage/storage.js","source/js/formulas.js","source/js/components/desire.js","source/js/components/details.js","source/js/components/popups.js","source/js/components/live.js","source/js/components/questions.js","source/js/components/reviews.js"],"names":["programs","document","querySelector","actualDescriptions","programsList","window","$","ready","slick","dots","infinite","speed","slidesToShow","centerMode","variableWidth","swipe","focusOnSelect","centerPadding","responsive","breakpoint","settings","arrows","on","event","currentSlide","querySelectorAll","forEach","item","classList","toggle","$slides","index","children","addEventListener","evt","items","key","program","is","click","LocalStorageUtil","[object Object]","this","keyName","clients","localStorage","getItem","JSON","parse","clientInformation","getClients","findIndex","it","push","splice","setItem","stringify","onEscKeyDown","hideElement","requestPopup","removeEventListener","style","overflow","phoneSample","nameSample","body","pageDesire","form","successPopup","clientsStorage","ClientsStorage","test","target","value","setCustomValidity","preventDefault","putClient","Full name","Date","now","toString","Phone number","reset","pageFeedback","yandexMapsScript","yaMapsShown","init","myMap","ymaps","Map","center","zoom","searchControlProvider","myPlacemark","Placemark","hintContent","iconLayout","iconImageHref","iconImageSize","iconImageOffset","geoObjects","add","scroll","height","scrollTop","offset","top","createElement","type","src","appendChild","showYaMaps","name","pageHeader","agreement","btn","focus","className","stopPropagation","hasAttribute","setAttribute","checked","removeAttribute","tagName","list","listMobile","adaptiveHeight","innerWidth","faq","question","paragraph","contains","questions","reviews","counter","length","slickNext","slickPrev","textContent"],"mappings":"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","file":"main.min.js","sourcesContent":["const programs = document.querySelector(`.page-catalogue`);\nconst actualDescriptions = programs === null ? null : programs.querySelector(`.catalogue-details__descriptions`);\nconst programsList = document.querySelector(`.catalogue-details__list`);\n\nwindow.$(document).ready(() => {\n  window.$(`.catalogue-details__list--mobile`).slick({\n    dots: false,\n    infinite: true,\n    speed: 300,\n    slidesToShow: 5,\n    centerMode: true,\n    variableWidth: false,\n    swipe: true,\n    focusOnSelect: true,\n    centerPadding: `0`,\n    responsive: [\n      {\n        breakpoint: 768,\n        settings: {\n          arrows: false,\n          dots: false,\n          infinite: true,\n          speed: 300,\n          slidesToShow: 1,\n          centerMode: true,\n          variableWidth: false,\n          swipe: true,\n          focusOnSelect: true,\n          centerPadding: `35%`\n        }\n      },\n      {\n        breakpoint: 630,\n        settings: {\n          arrows: false,\n          dots: false,\n          infinite: true,\n          speed: 300,\n          slidesToShow: 1,\n          centerMode: true,\n          variableWidth: false,\n          swipe: true,\n          focusOnSelect: true,\n          centerPadding: `30%`\n        }\n      },\n      {\n        breakpoint: 450,\n        settings: {\n          arrows: false,\n          dots: false,\n          infinite: true,\n          speed: 300,\n          slidesToShow: 1,\n          centerMode: true,\n          variableWidth: false,\n          swipe: true,\n          focusOnSelect: true,\n          centerPadding: `20%`\n        }\n      }\n    ]\n  });\n\n  window.$(`.catalogue-details__list`).on(`afterChange`, (event, slick, currentSlide) => {\n    [...programs.querySelectorAll(`.slick-cloned`)].forEach((item) => {\n      item.querySelector(`button`).classList.toggle(`catalogue-details__item--isChecked`, false);\n    });\n\n    [...slick.$slides].forEach((item, index) => {\n      item.querySelector(`button`).classList.toggle(`catalogue-details__item--isChecked`, false);\n      if (index === currentSlide) {\n        item.querySelector(`button`).classList.toggle(`catalogue-details__item--isChecked`, true);\n      }\n    });\n\n    [...actualDescriptions.children].forEach((item, index) => {\n      item.classList.toggle(`visually-hidden`, true);\n      if (index === currentSlide) {\n        item.classList.toggle(`visually-hidden`, false);\n      }\n    });\n  });\n});\n\ndocument.addEventListener(`keydown`, (evt) => {\n  const items = [...programsList.querySelectorAll(`.item-container`)];\n\n  if (evt.key === `Enter`) {\n    items.forEach((program) => {\n      if (window.$(program).is(`:focus`)) {\n        program.querySelector(`button`).click();\n      }\n    });\n  }\n}, true);\n","export default class LocalStorageUtil {\r\n  constructor() {\r\n    this.keyName = `clients`;\r\n  }\r\n\r\n  getClients() {\r\n    const clients = localStorage.getItem(this.keyName);\r\n    if (clients !== null) {\r\n      return JSON.parse(clients);\r\n    }\r\n    return [];\r\n  }\r\n\r\n  putClient(clientInformation) {\r\n    const clients = this.getClients();\r\n    const index = clients.findIndex((it) => it[`Phone number`] === clientInformation[`Phone number`]);\r\n\r\n    if (index === -1) {\r\n      clients.push(clientInformation);\r\n\r\n    } else {\r\n      clients.splice(index, 1, clientInformation);\r\n    }\r\n\r\n    localStorage.setItem(this.keyName, JSON.stringify(clients));\r\n  }\r\n}\r\n","export const catalogueItems = [\n  [`Общие`, `item-star`],\n  [`Академические`, `item-cap`],\n  [`Стажировки`, `item-portfolio`],\n  [`Волонтёрство`, `item-heart`],\n  [`Религиозные`, `item-candles`],\n];\n\nexport const renderComponent = (container, element, place) => {\n  switch (place) {\n    case `afterBegin`:\n      container.prepend(element.getElement());\n      break;\n    case `afterEnd`:\n      container.after(element.getElement());\n      break;\n    default:\n      container.append(element.getElement());\n  }\n};\n\nexport const createElement = (template) => {\n  const newElement = document.createElement(`div`);\n  newElement.innerHTML = template;\n  return newElement.firstChild;\n};\n\nexport const onEscKeyDown = (evt) => {\n  if (evt.key === `Escape` || evt.key === `Esc`) {\n    hideElement();\n  }\n};\n\nexport const hideElement = () => {\n  const requestPopup = document.querySelector(`.page-request-popup`);\n  const successPopup = document.querySelector(`.page-success-popup`);\n\n  successPopup.classList.toggle(`visually-hidden`, true);\n  requestPopup.classList.toggle(`visually-hidden`, true);\n  document.removeEventListener(`keydown`, onEscKeyDown);\n  document.querySelector(`body`).style.overflow = `visible`;\n};\n\nexport const phoneSample = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/;\nexport const nameSample = /^[a-zA-Zа-яёА-ЯЁ]+$/u;\n","const body = document.querySelector(`body`);\r\nconst pageDesire = document.querySelector(`.page-desire`);\r\nconst form = pageDesire === null ? null : pageDesire.querySelector(`form`);\r\nconst successPopup = document.querySelector(`.page-success-popup`);\r\nimport ClientsStorage from '../storage/storage.js';\r\nimport {hideElement, onEscKeyDown, phoneSample} from '../formulas';\r\n\r\nconst clientsStorage = new ClientsStorage();\r\n\r\n\r\nif (form) {\r\n  form.addEventListener(`input`, (evt) => {\r\n    if (!phoneSample.test(evt.target.value)) {\r\n      evt.target.setCustomValidity(`Напиши номер правильно`);\r\n\r\n    } else {\r\n      evt.target.setCustomValidity(``);\r\n    }\r\n  });\r\n\r\n  form.addEventListener(`submit`, (evt) => {\r\n    evt.preventDefault();\r\n\r\n    clientsStorage.putClient({\r\n      'Full name': Date.now().toString(),\r\n      'Phone number': form.querySelector(`input[name=\"phone\"]`).value.toString(),\r\n    });\r\n\r\n    hideElement();\r\n    form.reset();\r\n\r\n    successPopup.classList.toggle(`visually-hidden`, false);\r\n    document.addEventListener(`keydown`, onEscKeyDown);\r\n    body.style.overflow = `hidden`;\r\n  });\r\n}\r\n\r\n\r\n","const body = document.querySelector(`body`);\r\nconst pageFeedback = document.querySelector(`.page-details__feedback`);\r\nconst form = pageFeedback === null ? null : pageFeedback.querySelector(`form`);\r\nconst successPopup = document.querySelector(`.page-success-popup`);\r\nimport ClientsStorage from '../storage/storage.js';\r\nimport {hideElement, onEscKeyDown, phoneSample, nameSample} from '../formulas';\r\n\r\nconst clientsStorage = new ClientsStorage();\r\n\r\nlet yandexMapsScript = null;\r\nlet yaMapsShown = false;\r\n\r\nwindow.$(window).scroll(function () {\r\n  if (!yaMapsShown) {\r\n    if (window.$(window).height() + window.$(window).scrollTop() > window.$(`#YMapsID`).offset().top) {\r\n      yaMapsShown = true;\r\n      showYaMaps();\r\n\r\n      yandexMapsScript.addEventListener(`load`, function () {\r\n        window.ymaps.ready(init);\r\n      });\r\n    }\r\n  }\r\n});\r\n\r\nif (form) {\r\n  form.addEventListener(`submit`, (evt) => {\r\n    evt.preventDefault();\r\n\r\n    clientsStorage.putClient({\r\n      'Full name': form.querySelector(`input[name=\"name\"]`).value,\r\n      'Phone number': form.querySelector(`input[name=\"phone\"]`).value.toString(),\r\n    });\r\n\r\n    hideElement();\r\n    form.reset();\r\n\r\n    successPopup.classList.toggle(`visually-hidden`, false);\r\n    document.addEventListener(`keydown`, onEscKeyDown);\r\n    body.style.overflow = `hidden`;\r\n  });\r\n\r\n  form.addEventListener(`input`, (evt) => {\r\n    if (evt.target.name === `phone`) {\r\n      if (!phoneSample.test(evt.target.value)) {\r\n        evt.target.setCustomValidity(`Напиши номер правильно`);\r\n\r\n      } else {\r\n        evt.target.setCustomValidity(``);\r\n      }\r\n\r\n    } else if (evt.target.name === `name`) {\r\n      if (!nameSample.test(evt.target.value)) {\r\n        evt.target.setCustomValidity(`Напиши ФИО правильно`);\r\n\r\n      } else {\r\n        evt.target.setCustomValidity(``);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction init() {\r\n  let myMap = new window.ymaps.Map(`YMapsID`, {\r\n    center: [55.028723, 82.926924],\r\n    zoom: 18,\r\n  }, {\r\n    searchControlProvider: `yandex#search`\r\n  });\r\n\r\n  const myPlacemark = new window.ymaps.Placemark([55.028522, 82.928281], {\r\n    hintContent: `Адрес куратора`,\r\n  }, {\r\n    iconLayout: `default#image`,\r\n    iconImageHref: `img/icon-map-marker.png`,\r\n    iconImageSize: [18, 28],\r\n    iconImageOffset: [-9, -28],\r\n  });\r\n\r\n  myMap.geoObjects\r\n      .add(myPlacemark);\r\n}\r\n\r\n\r\nfunction showYaMaps() {\r\n  yandexMapsScript = document.createElement(`script`);\r\n  const key = `6b492866-f739-4d69-9dbc-9ff50d70ea08`;\r\n  yandexMapsScript.type = `text/javascript`;\r\n  yandexMapsScript.src = `https://api-maps.yandex.ru/2.1/?apikey=${key}&lang=ru_RU`;\r\n  document.body.appendChild(yandexMapsScript);\r\n}\r\n\r\n","const body = document.querySelector(`body`);\nconst pageHeader = document.querySelector(`.page-header`);\nconst requestPopup = document.querySelector(`.page-request-popup`);\nconst successPopup = document.querySelector(`.page-success-popup`);\nconst form = requestPopup === null ? null : requestPopup.querySelector(`form`);\nconst agreement = requestPopup === null ? null : requestPopup.querySelector(`.field-agreement`);\nconst btn = requestPopup === null ? null : requestPopup.querySelector(`button`);\nimport ClientsStorage from '../storage/storage.js';\nimport {hideElement, onEscKeyDown, phoneSample, nameSample} from '../formulas';\n\nconst clientsStorage = new ClientsStorage();\n\nif (pageHeader) {\n  pageHeader.querySelector(`.page-header__btn`)\n      .addEventListener(`click`, () => {\n        requestPopup.classList.toggle(`visually-hidden`, false);\n        requestPopup.querySelector(`input[name=\"name\"]`).focus();\n        document.addEventListener(`keydown`, onEscKeyDown);\n        body.style.overflow = `hidden`;\n      });\n}\n\nif (requestPopup) {\n  requestPopup.addEventListener(`click`, (evt) => {\n    if (evt.target === requestPopup || evt.target.className === `popup-close`) {\n      hideElement();\n      form.reset();\n\n    } else if (evt.target.className === `page-request-popup__inner`) {\n      evt.stopPropagation();\n    }\n  });\n\n  form.addEventListener(`submit`, (evt) => {\n    evt.preventDefault();\n\n    clientsStorage.putClient({\n      'Full name': form.querySelector(`input[name=\"name\"]`).value,\n      'Phone number': form.querySelector(`input[name=\"phone\"]`).value.toString(),\n    });\n\n    hideElement();\n    form.reset();\n\n    if (!btn.hasAttribute(`disabled`)) {\n      btn.setAttribute(`disabled`, `disabled`);\n    }\n\n    successPopup.classList.toggle(`visually-hidden`, false);\n    document.addEventListener(`keydown`, onEscKeyDown);\n    body.style.overflow = `hidden`;\n  });\n\n  form.addEventListener(`input`, (evt) => {\n    if (evt.target.name === `phone`) {\n      if (!phoneSample.test(evt.target.value)) {\n        evt.target.setCustomValidity(`Напиши номер правильно`);\n\n      } else {\n        evt.target.setCustomValidity(``);\n      }\n\n    } else if (evt.target.name === `name`) {\n      if (!nameSample.test(evt.target.value)) {\n        evt.target.setCustomValidity(`Напиши ФИО правильно`);\n\n      } else {\n        evt.target.setCustomValidity(``);\n      }\n    }\n  });\n\n  agreement.addEventListener(`change`, (evt) => {\n    if (evt.target.checked) {\n      btn.removeAttribute(`disabled`);\n      return;\n    }\n    btn.setAttribute(`disabled`, `disabled`);\n  });\n}\n\nif (successPopup) {\n  successPopup.addEventListener(`click`, (evt) => {\n    if (evt.target === successPopup || evt.target.className === `popup-close` || evt.target.tagName === `BUTTON`) {\n      hideElement();\n\n    } else if (evt.target.className === `page-success-popup__inner`) {\n      evt.stopPropagation();\n    }\n  });\n}\n","const list = document.querySelector(`.live-pictures`);\nconst listMobile = document.querySelector(`.live-pictures--mobile`);\n\nwindow.$(document).ready(() => {\n  window.$(`.live-pictures--mobile`).slick({\n    dots: true,\n    infinite: true,\n    speed: 300,\n    slidesToShow: 1,\n    centerMode: true,\n    variableWidth: false,\n    swipe: true,\n    focusOnSelect: true,\n    centerPadding: `0%`,\n    adaptiveHeight: true,\n    responsive: [\n      {\n        breakpoint: 768,\n        settings: {\n          arrows: false,\n        }\n      }\n    ]\n  });\n});\n\n\nif (list) {\n  document.addEventListener(`DOMContentLoaded`, function () {\n    if (window.innerWidth > 767) {\n      list.classList.toggle(`visually-hidden`, false);\n      listMobile.classList.toggle(`visually-hidden`, true);\n\n    } else {\n      list.classList.toggle(`visually-hidden`, true);\n      listMobile.classList.toggle(`visually-hidden`, false);\n    }\n  });\n\n  window.addEventListener(`resize`, () => {\n    if (window.innerWidth > 767) {\n      list.classList.toggle(`visually-hidden`, false);\n      listMobile.classList.toggle(`visually-hidden`, true);\n\n    } else {\n      list.classList.toggle(`visually-hidden`, true);\n      listMobile.classList.toggle(`visually-hidden`, false);\n    }\n  });\n}\n","const faq = document.querySelector(`.page-questions__faq`);\r\nconst list = faq === null ? null : faq.querySelector(`ol`);\r\n\r\nif (list) {\r\n  const questions = [...list.querySelectorAll(`li`)];\r\n\r\n  questions.forEach((question) => {\r\n    question.addEventListener(`click`, () => {\r\n      question.classList.toggle(`active`);\r\n\r\n      const paragraph = question.querySelector(`p`);\r\n\r\n      if (question.classList.contains(`active`)) {\r\n        paragraph.classList.toggle(`visually-hidden`, false);\r\n\r\n      } else {\r\n        paragraph.classList.toggle(`visually-hidden`, true);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\ndocument.addEventListener(`keydown`, (evt) => {\r\n  const questions = [...list.querySelectorAll(`li`)];\r\n\r\n  if (evt.key === `Enter`) {\r\n    questions.forEach((question) => {\r\n      if (window.$(question).is(`:focus`)) {\r\n        question.classList.toggle(`active`);\r\n      }\r\n\r\n      const paragraph = question.querySelector(`p`);\r\n\r\n      if (question.classList.contains(`active`)) {\r\n        paragraph.classList.toggle(`visually-hidden`, false);\r\n\r\n      } else {\r\n        paragraph.classList.toggle(`visually-hidden`, true);\r\n      }\r\n    });\r\n  }\r\n}, true);\r\n","const reviews = document.querySelector(`.page-reviews`);\r\nconst counter = document.querySelector(`.page-reviews__counter`);\r\n\r\nwindow.$(document).ready(() => {\r\n  window.$(`.page-reviews__list`).slick({\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 300,\r\n    slidesToShow: 1,\r\n    centerMode: true,\r\n    variableWidth: false,\r\n    swipe: true,\r\n    focusOnSelect: true,\r\n    centerPadding: `0%`,\r\n    adaptiveHeight: true\r\n  });\r\n\r\n  const dots = reviews === null ? null : reviews.querySelector(`.slick-dots`);\r\n  const length = dots === null ? null : [...dots.children].length;\r\n  const slickNext = reviews === null ? null : reviews.querySelector(`.slick-next`);\r\n  const slickPrev = reviews === null ? null : reviews.querySelector(`.slick-prev`);\r\n\r\n  if (dots) {\r\n    dots.classList.toggle(`visually-hidden`, true);\r\n    counter.textContent = `1 / ${length}`;\r\n    slickNext.textContent = ``;\r\n    slickPrev.textContent = ``;\r\n\r\n    window.$(`.page-reviews__list`).on(`afterChange`, function (event, slick, currentSlide) {\r\n      counter.textContent = `${currentSlide + 1} / ${length}`;\r\n    });\r\n  }\r\n});\r\n\r\n"]}