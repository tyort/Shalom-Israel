!function(){"use strict";const e=document.querySelector(".page-catalogue"),t=null===e?null:e.querySelector(".catalogue-details__descriptions"),n=document.querySelector(".catalogue-details__list");window.$(document).ready(()=>{window.$(".catalogue-details__list--mobile").slick({dots:!1,infinite:!0,speed:300,slidesToShow:5,centerMode:!0,variableWidth:!1,swipe:!0,focusOnSelect:!0,centerPadding:"0",responsive:[{breakpoint:768,settings:{arrows:!1,dots:!1,infinite:!0,speed:300,slidesToShow:1,centerMode:!0,variableWidth:!1,swipe:!0,focusOnSelect:!0,centerPadding:"35%"}},{breakpoint:630,settings:{arrows:!1,dots:!1,infinite:!0,speed:300,slidesToShow:1,centerMode:!0,variableWidth:!1,swipe:!0,focusOnSelect:!0,centerPadding:"30%"}},{breakpoint:450,settings:{arrows:!1,dots:!1,infinite:!0,speed:300,slidesToShow:1,centerMode:!0,variableWidth:!1,swipe:!0,focusOnSelect:!0,centerPadding:"20%"}}]}),window.$(".catalogue-details__list").on("afterChange",(n,s,l)=>{[...e.querySelectorAll(".slick-cloned")].forEach(e=>{e.querySelector("button").classList.toggle("catalogue-details__item--isChecked",!1)}),[...s.$slides].forEach((e,t)=>{e.querySelector("button").classList.toggle("catalogue-details__item--isChecked",!1),t===l&&e.querySelector("button").classList.toggle("catalogue-details__item--isChecked",!0)}),[...t.children].forEach((e,t)=>{e.classList.toggle("visually-hidden",!0),t===l&&e.classList.toggle("visually-hidden",!1)})})}),document.addEventListener("keydown",e=>{const t=[...n.querySelectorAll(".item-container")];"Enter"===e.key&&t.forEach(e=>{window.$(e).is(":focus")&&e.querySelector("button").click()})},!0);class s{constructor(){this.keyName="clients"}getClients(){const e=localStorage.getItem(this.keyName);return null!==e?JSON.parse(e):[]}putClient(e){const t=this.getClients(),n=t.findIndex(t=>t["Phone number"]===e["Phone number"]);-1===n?t.push(e):t.splice(n,1,e),localStorage.setItem(this.keyName,JSON.stringify(t))}}const l=e=>{"Escape"!==e.key&&"Esc"!==e.key||i()},i=()=>{const e=document.querySelector(".page-request-popup");document.querySelector(".page-success-popup").classList.toggle("visually-hidden",!0),e.classList.toggle("visually-hidden",!0),document.removeEventListener("keydown",l),document.querySelector("body").style.overflow="visible"},o=/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/,a=/^[a-zA-Zа-яёА-ЯЁ]+$/u,r=document.querySelector("body"),d=document.querySelector(".page-desire"),c=null===d?null:d.querySelector("form"),u=document.querySelector(".page-success-popup"),g=new s;c&&(c.addEventListener("input",e=>{o.test(e.target.value)?e.target.setCustomValidity(""):e.target.setCustomValidity("Напиши номер правильно")}),c.addEventListener("submit",e=>{e.preventDefault(),g.putClient({"Full name":Date.now().toString(),"Phone number":c.querySelector('input[name="phone"]').value.toString()}),i(),c.reset(),u.classList.toggle("visually-hidden",!1),document.addEventListener("keydown",l),r.style.overflow="hidden"}));const p=document.querySelector("body"),y=document.querySelector(".page-details__feedback"),m=null===y?null:y.querySelector("form"),v=document.querySelector(".page-success-popup"),w=new s;let h=null,S=!1;function f(){let e=new window.ymaps.Map("YMapsID",{center:[55.028723,82.926924],zoom:18},{searchControlProvider:"yandex#search"});const t=new window.ymaps.Placemark([55.028522,82.928281],{hintContent:"Адрес куратора"},{iconLayout:"default#image",iconImageHref:"img/icon-map-marker.png",iconImageSize:[18,28],iconImageOffset:[-9,-28]});e.geoObjects.add(t)}window.$(window).scroll((function(){S||window.$(window).height()+window.$(window).scrollTop()>window.$("#YMapsID").offset().top&&(S=!0,function(){h=document.createElement("script");h.type="text/javascript",h.src="https://api-maps.yandex.ru/2.1/?apikey=6b492866-f739-4d69-9dbc-9ff50d70ea08&lang=ru_RU",document.body.appendChild(h)}(),h.addEventListener("load",(function(){window.ymaps.ready(f)})))})),m&&(m.addEventListener("submit",e=>{e.preventDefault(),w.putClient({"Full name":m.querySelector('input[name="name"]').value,"Phone number":m.querySelector('input[name="phone"]').value.toString()}),i(),m.reset(),v.classList.toggle("visually-hidden",!1),document.addEventListener("keydown",l),p.style.overflow="hidden"}),m.addEventListener("input",e=>{"phone"===e.target.name?o.test(e.target.value)?e.target.setCustomValidity(""):e.target.setCustomValidity("Напиши номер правильно"):"name"===e.target.name&&(a.test(e.target.value)?e.target.setCustomValidity(""):e.target.setCustomValidity("Напиши ФИО правильно"))}));const q=document.querySelector("body"),L=document.querySelector(".page-header"),b=document.querySelector(".page-request-popup"),k=document.querySelector(".page-success-popup"),E=null===b?null:b.querySelector("form"),_=null===b?null:b.querySelector(".field-agreement"),C=null===b?null:b.querySelector("button"),$=new s;L&&L.querySelector(".page-header__btn").addEventListener("click",()=>{b.classList.toggle("visually-hidden",!1),b.querySelector('input[name="name"]').focus(),document.addEventListener("keydown",l),q.style.overflow="hidden"}),b&&(b.addEventListener("click",e=>{e.target===b||"popup-close"===e.target.className?(i(),E.reset()):"page-request-popup__inner"===e.target.className&&e.stopPropagation()}),E.addEventListener("submit",e=>{e.preventDefault(),$.putClient({"Full name":E.querySelector('input[name="name"]').value,"Phone number":E.querySelector('input[name="phone"]').value.toString()}),i(),E.reset(),C.hasAttribute("disabled")||C.setAttribute("disabled","disabled"),k.classList.toggle("visually-hidden",!1),document.addEventListener("keydown",l),q.style.overflow="hidden"}),E.addEventListener("input",e=>{"phone"===e.target.name?o.test(e.target.value)?e.target.setCustomValidity(""):e.target.setCustomValidity("Напиши номер правильно"):"name"===e.target.name&&(a.test(e.target.value)?e.target.setCustomValidity(""):e.target.setCustomValidity("Напиши ФИО правильно"))}),_.addEventListener("change",e=>{e.target.checked?C.removeAttribute("disabled"):C.setAttribute("disabled","disabled")})),k&&k.addEventListener("click",e=>{e.target===k||"popup-close"===e.target.className||"BUTTON"===e.target.tagName?i():"page-success-popup__inner"===e.target.className&&e.stopPropagation()});const P=document.querySelector(".live-pictures"),O=document.querySelector(".live-pictures--mobile");window.$(document).ready(()=>{window.$(".live-pictures--mobile").slick({dots:!0,infinite:!0,speed:300,slidesToShow:1,centerMode:!0,variableWidth:!1,swipe:!0,focusOnSelect:!0,centerPadding:"0%",adaptiveHeight:!0,responsive:[{breakpoint:768,settings:{arrows:!1}}]})}),P&&(document.addEventListener("DOMContentLoaded",(function(){window.innerWidth>767?(P.classList.toggle("visually-hidden",!1),O.classList.toggle("visually-hidden",!0)):(P.classList.toggle("visually-hidden",!0),O.classList.toggle("visually-hidden",!1))})),window.addEventListener("resize",()=>{window.innerWidth>767?(P.classList.toggle("visually-hidden",!1),O.classList.toggle("visually-hidden",!0)):(P.classList.toggle("visually-hidden",!0),O.classList.toggle("visually-hidden",!1))}));const N=document.querySelector(".page-questions__faq"),M=null===N?null:N.querySelector("ol");if(M){[...M.querySelectorAll("li")].forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("active");const t=e.querySelector("p");e.classList.contains("active")?t.classList.toggle("visually-hidden",!1):t.classList.toggle("visually-hidden",!0)})})}document.addEventListener("keydown",e=>{const t=[...M.querySelectorAll("li")];"Enter"===e.key&&t.forEach(e=>{window.$(e).is(":focus")&&e.classList.toggle("active");const t=e.querySelector("p");e.classList.contains("active")?t.classList.toggle("visually-hidden",!1):t.classList.toggle("visually-hidden",!0)})},!0);const V=document.querySelector(".page-reviews"),x=document.querySelector(".page-reviews__counter");window.$(document).ready(()=>{window.$(".page-reviews__list").slick({dots:!0,infinite:!0,speed:300,slidesToShow:1,centerMode:!0,variableWidth:!1,swipe:!0,focusOnSelect:!0,centerPadding:"0%",adaptiveHeight:!0});const e=null===V?null:V.querySelector(".slick-dots"),t=null===e?null:[...e.children].length,n=null===V?null:V.querySelector(".slick-next"),s=null===V?null:V.querySelector(".slick-prev");e&&(e.classList.toggle("visually-hidden",!0),x.textContent="1 / "+t,n.textContent="",s.textContent="",window.$(".page-reviews__list").on("afterChange",(function(e,n,s){x.textContent=`${s+1} / ${t}`})))})}();
//# sourceMappingURL=main.min.js.map
